<div class="loginContainer">
    <h1>Register</h1>

    <form id="registerForm" action="" method="post" onsubmit="event.preventDefault(); validateForm();">
        <p class="errorMessage">{{context.errorMessage}}</p>

        <input type="text" name="firstName" placeholder="First name" value="{{context.firstName}}" required="required">
        <input type="text" name="lastName" placeholder="Last name" value="{{context.lastName}}" required="required">
        <input type="text" name="username" placeholder="Username" value="{{context.username}}" required="required">
        <input type="email" name="email" placeholder="Email" value="{{context.email}}" required="required">
        <input type="password" id="password" name="password" placeholder="Password" required="required">
        <input type="password" id="password2" name="password2" placeholder="Confirm password" required="required">
        <input type="submit" value="Register">
    </form>

    <a href="/login">Already have an account? Login here!</a>
</div>

<script>
    //check if passwords match
    const password = document.getElementById('password');
    const password2 = document.getElementById('password2');
    const form = document.getElementById('registerForm');

    function validateForm() {
        if (password.value != password2.value) {
            alert('Passwords do not match. Please try again.');
        }
        else {
            form.submit();
        }
    }
</script>